import{S as j,i as z,s as D,r as k,k as W,u as O,l as v,m as N,h as _,J as x,b as d,K,L as w,n as B,M as Q,N as X,O as Y,a as E,c as T,H as b,P as ee,z as R,A as U,B as M,g as q,d as G,C as V,v as te,p as F,Q as oe,R as We,T as p}from"../chunks/index.91114a8c.js";const I=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ve={chromatic:["H","H","H","H","H","H","H","H","H","H","H","H"],major:["W","W","H","W","W","W","H"],"half-diminished":["W","H","W","H","W","W","W"],"harmonic-major":["W","W","H","W","H","3H","H"],"harmonic-minor":["W","H","W","W","H","3H","H"],blues:["3H","H","H","H","3H","H"],enigmatic:["H","3H","H","H","H","H","H"],gipsy:["H","H","3H","H","H","H","H"],"hungarian-gipsy":["W","H","3H","H","H","3H","H"],"hungarian-major":["3H","H","W","H","W","H","W"],in:["H","2W","W","H","2W"],insen:["H","2W","W","3H","W"],hirajoshi:["2W","W","H","2W","H"],istrian:["H","W","H","W","H","5H"],iwato:["H","2W","H","2W","W"],"lydian-augmented":["W","W","W","W","H","W","H"],"lydian-diminished":["W","H","3H","H","H","W","H"],"melodic-minor-ascending":["W","H","W","W","W","W","H"],"melodic-minor-descending":["W","W","H","W","W","H","W"],"major-pentatonic":["W","W","3H","W","3H"],"minor-pentatonic":["3H","W","W","3H","W"],"neapolitan-major":["H","W","W","W","W","W","H"],"neapolitan-minor":["H","W","W","W","H","3H","H"],"octatonic-1":["H","W","W","W","H","3H","H"],"octatonic-2":["H","W","H","W","H","W","H"],persian:["H","3H","H","H","W","3H","H"],prometheus:["W","W","W","3H","H","W"],harmonics:["3H","H","H","W","W","3H"],tritone:["H","3H","W","H","3H","W"],"two-semitone-tritone":["H","H","2W","H","H","2W"],"ukrainian-dorian":["W","H","3H","H","W","H","W"],"whole-tone":["W","W","W","W","W","W"],yo:["3H","W","W","3H","W"]},be=(l,t)=>{let e=I.indexOf(t);const s=[];s.push(I[e]);for(const o of l)o==="W"?e++:o==="3H"?(e++,e++):o==="2W"?(e++,e++,e++):o==="5H"&&(e++,e++,e++,e++),e++,e>=I.length&&(e=e-I.length),s.push(I[e]);return s},Ne=(l,t)=>{const e=[],s=I.length;let o=0,n=l;const c=(a,r)=>{if(a<r)return a;const i=a-r;return i>=r?c(i,r):i<r?i:c(i,r)-r};for(;o<t;)n=c(n,s),e.push(I[n]),o++,n++;return e},$e=(l,t,e,s)=>{const o=[];for(const n of s){const c=be(t,l),a=Ne(n,e),r=[];for(const i of a)r.push({note:i,degree:c.indexOf(i)+1});o.push(r)}return o};function se(l,t,e){const s=l.slice();return s[5]=t[e],s}function re(l){let t,e=l[5]+"",s,o;return{c(){t=W("option"),s=k(e),o=E(),this.h()},l(n){t=v(n,"OPTION",{});var c=N(t);s=O(c,e),o=T(c),c.forEach(_),this.h()},h(){t.__value=l[5],t.value=t.__value},m(n,c){d(n,t,c),b(t,s),b(t,o)},p:B,d(n){n&&_(t)}}}function Se(l){let t,e,s,o,n=l[1],c=[];for(let a=0;a<n.length;a+=1)c[a]=re(se(l,n,a));return{c(){t=k(`Scale root note:
`),e=W("select");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){t=O(a,`Scale root note:
`),e=v(a,"SELECT",{});var r=N(e);for(let i=0;i<c.length;i+=1)c[i].l(r);r.forEach(_),this.h()},h(){l[0]===void 0&&x(()=>l[3].call(e))},m(a,r){d(a,t,r),d(a,e,r);for(let i=0;i<c.length;i+=1)c[i].m(e,null);K(e,l[0]),s||(o=[w(e,"change",l[3]),w(e,"change",l[2])],s=!0)},p(a,[r]){if(r&2){n=a[1];let i;for(i=0;i<n.length;i+=1){const f=se(a,n,i);c[i]?c[i].p(f,r):(c[i]=re(f),c[i].c(),c[i].m(e,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=n.length}r&3&&K(e,a[0])},i:B,o:B,d(a){a&&_(t),a&&_(e),Q(c,a),s=!1,X(o)}}}function Ee(l,t,e){const s=Y();let{root:o}=t;const n=I;function c(r){s("root-note-selected",r.target.value)}function a(){o=ee(this),e(0,o),e(1,n)}return l.$$set=r=>{"root"in r&&e(0,o=r.root)},[o,n,c,a]}class Te extends j{constructor(t){super(),z(this,t,Ee,Se,D,{root:0})}}function ie(l,t,e){const s=l.slice();return s[5]=t[e],s}function ae(l){let t,e=l[5]+"",s,o;return{c(){t=W("option"),s=k(e),o=E(),this.h()},l(n){t=v(n,"OPTION",{});var c=N(t);s=O(c,e),o=T(c),c.forEach(_),this.h()},h(){t.__value=l[5],t.value=t.__value},m(n,c){d(n,t,c),b(t,s),b(t,o)},p:B,d(n){n&&_(t)}}}function ke(l){let t,e,s,o,n=l[1],c=[];for(let a=0;a<n.length;a+=1)c[a]=ae(ie(l,n,a));return{c(){t=k(`Scale:
`),e=W("select");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){t=O(a,`Scale:
`),e=v(a,"SELECT",{});var r=N(e);for(let i=0;i<c.length;i+=1)c[i].l(r);r.forEach(_),this.h()},h(){l[0]===void 0&&x(()=>l[3].call(e))},m(a,r){d(a,t,r),d(a,e,r);for(let i=0;i<c.length;i+=1)c[i].m(e,null);K(e,l[0]),s||(o=[w(e,"change",l[3]),w(e,"change",l[2])],s=!0)},p(a,[r]){if(r&2){n=a[1];let i;for(i=0;i<n.length;i+=1){const f=ie(a,n,i);c[i]?c[i].p(f,r):(c[i]=ae(f),c[i].c(),c[i].m(e,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=n.length}r&3&&K(e,a[0])},i:B,o:B,d(a){a&&_(t),a&&_(e),Q(c,a),s=!1,X(o)}}}function Oe(l,t,e){let{scaleName:s}=t;const o=Object.keys(ve),n=Y();function c(r){n("scale-selected",r.target.value)}function a(){s=ee(this),e(0,s),e(1,o)}return l.$$set=r=>{"scaleName"in r&&e(0,s=r.scaleName)},[s,o,c,a]}class Ce extends j{constructor(t){super(),z(this,t,Oe,ke,D,{scaleName:0})}}function Pe(l){let t,e,s,o;return t=new Te({props:{root:l[1]}}),t.$on("root-note-selected",l[2]),s=new Ce({props:{scaleName:l[0]}}),s.$on("scale-selected",l[3]),{c(){R(t.$$.fragment),e=E(),R(s.$$.fragment)},l(n){U(t.$$.fragment,n),e=T(n),U(s.$$.fragment,n)},m(n,c){M(t,n,c),d(n,e,c),M(s,n,c),o=!0},p(n,[c]){const a={};c&2&&(a.root=n[1]),t.$set(a);const r={};c&1&&(r.scaleName=n[0]),s.$set(r)},i(n){o||(q(t.$$.fragment,n),q(s.$$.fragment,n),o=!0)},o(n){G(t.$$.fragment,n),G(s.$$.fragment,n),o=!1},d(n){V(t,n),n&&_(e),V(s,n)}}}function ce(l){return{scaleName:l.scaleName,root:l.root}}function we(l,t,e){let{scaleName:s}=t,{root:o}=t;const n=Y();function c(r){n("input",ce({scaleName:s,root:r.detail}))}function a(r){n("input",ce({scaleName:r.detail,root:o}))}return l.$$set=r=>{"scaleName"in r&&e(0,s=r.scaleName),"root"in r&&e(1,o=r.root)},[s,o,c,a]}class Be extends j{constructor(t){super(),z(this,t,we,Pe,D,{scaleName:0,root:1})}}function Ie(l){let t,e,s,o,n,c=l[0].join("-")+"",a,r,i,f,m,h;return{c(){t=k(`Scale mode:
`),e=W("button"),s=k("Previous mode"),o=E(),n=W("code"),a=k(c),r=E(),i=W("button"),f=k("Next mode")},l(u){t=O(u,`Scale mode:
`),e=v(u,"BUTTON",{});var H=N(e);s=O(H,"Previous mode"),H.forEach(_),o=T(u),n=v(u,"CODE",{});var C=N(n);a=O(C,c),C.forEach(_),r=T(u),i=v(u,"BUTTON",{});var A=N(i);f=O(A,"Next mode"),A.forEach(_)},m(u,H){d(u,t,H),d(u,e,H),b(e,s),d(u,o,H),d(u,n,H),b(n,a),d(u,r,H),d(u,i,H),b(i,f),m||(h=[w(e,"click",l[2]),w(i,"click",l[3])],m=!0)},p(u,[H]){H&1&&c!==(c=u[0].join("-")+"")&&te(a,c)},i:B,o:B,d(u){u&&_(t),u&&_(e),u&&_(o),u&&_(n),u&&_(r),u&&_(i),m=!1,X(h)}}}function Ae(l,t,e){let{scale:s}=t;const o=Y();function n(r){const i=[...s],f=i[r](),m=r==="pop"?[f,...i]:[...i,f];o("mode-selected",m)}const c=()=>n("pop"),a=()=>n("shift");return l.$$set=r=>{"scale"in r&&e(0,s=r.scale)},[s,n,c,a]}class Fe extends j{constructor(t){super(),z(this,t,Ae,Ie,D,{scale:0})}}function fe(l,t,e){const s=l.slice();return s[5]=t[e],s[7]=e,s}function ue(l,t,e){const s=l.slice();return s[8]=t[e],s[10]=e,s}function he(l){let t,e=l[8].degree+"",s;return{c(){t=W("span"),s=k(e),this.h()},l(o){t=v(o,"SPAN",{class:!0});var n=N(t);s=O(n,e),n.forEach(_),this.h()},h(){F(t,"class","svelte-1hs3fqz")},m(o,n){d(o,t,n),b(t,s)},p(o,n){n&2&&e!==(e=o[8].degree+"")&&te(s,e)},d(o){o&&_(t)}}}function _e(l){let t,e,s=l[8].note+"",o,n,c,a,r=l[8].degree>0&&he(l);return{c(){t=W("span"),e=W("span"),o=k(s),n=E(),r&&r.c(),c=E(),a=W("span"),this.h()},l(i){t=v(i,"SPAN",{class:!0});var f=N(t);e=v(f,"SPAN",{class:!0});var m=N(e);o=O(m,s),n=T(m),r&&r.l(m),m.forEach(_),c=T(f),a=v(f,"SPAN",{class:!0}),N(a).forEach(_),f.forEach(_),this.h()},h(){F(e,"class","note svelte-1hs3fqz"),p(e,"root",l[8].degree===1),p(e,"second",l[8].degree===2),p(e,"third",l[8].degree===3),p(e,"fourth",l[8].degree===4),p(e,"fifth",l[8].degree===5),p(e,"sixth",l[8].degree===6),p(e,"seventh",l[8].degree===7),p(e,"eighth",l[8].degree===8),p(e,"ninth",l[8].degree===9),p(e,"tenth",l[8].degree===10),p(e,"eleventh",l[8].degree===11),p(e,"twelveth",l[8].degree===12),F(a,"class","mark svelte-1hs3fqz"),p(a,"hasMarker",ze(l[10])&&l[7]===3),F(t,"class","slot svelte-1hs3fqz"),p(t,"zero",l[10]===0)},m(i,f){d(i,t,f),b(t,e),b(e,o),b(e,n),r&&r.m(e,null),b(t,c),b(t,a)},p(i,f){f&2&&s!==(s=i[8].note+"")&&te(o,s),i[8].degree>0?r?r.p(i,f):(r=he(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&2&&p(e,"root",i[8].degree===1),f&2&&p(e,"second",i[8].degree===2),f&2&&p(e,"third",i[8].degree===3),f&2&&p(e,"fourth",i[8].degree===4),f&2&&p(e,"fifth",i[8].degree===5),f&2&&p(e,"sixth",i[8].degree===6),f&2&&p(e,"seventh",i[8].degree===7),f&2&&p(e,"eighth",i[8].degree===8),f&2&&p(e,"ninth",i[8].degree===9),f&2&&p(e,"tenth",i[8].degree===10),f&2&&p(e,"eleventh",i[8].degree===11),f&2&&p(e,"twelveth",i[8].degree===12)},d(i){i&&_(t),r&&r.d()}}}function ge(l){let t,e,s=l[5],o=[];for(let n=0;n<s.length;n+=1)o[n]=_e(ue(l,s,n));return{c(){t=W("div");for(let n=0;n<o.length;n+=1)o[n].c();e=E(),this.h()},l(n){t=v(n,"DIV",{class:!0});var c=N(t);for(let a=0;a<o.length;a+=1)o[a].l(c);e=T(c),c.forEach(_),this.h()},h(){F(t,"class","slot-line")},m(n,c){d(n,t,c);for(let a=0;a<o.length;a+=1)o[a].m(t,null);b(t,e)},p(n,c){if(c&2){s=n[5];let a;for(a=0;a<s.length;a+=1){const r=ue(n,s,a);o[a]?o[a].p(r,c):(o[a]=_e(r),o[a].c(),o[a].m(t,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}},d(n){n&&_(t),Q(o,n)}}}function je(l){let t,e,s,o,n,c,a,r=l[1],i=[];for(let f=0;f<r.length;f+=1)i[f]=ge(fe(l,r,f));return{c(){t=W("br"),e=k(`

Fretboard length:

`),s=W("input"),o=E(),n=W("div");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){t=v(f,"BR",{}),e=O(f,`

Fretboard length:

`),s=v(f,"INPUT",{type:!0}),o=T(f),n=v(f,"DIV",{id:!0,class:!0});var m=N(n);for(let h=0;h<i.length;h+=1)i[h].l(m);m.forEach(_),this.h()},h(){F(s,"type","number"),F(n,"id","fretboard"),F(n,"class","svelte-1hs3fqz")},m(f,m){d(f,t,m),d(f,e,m),d(f,s,m),oe(s,l[0]),d(f,o,m),d(f,n,m);for(let h=0;h<i.length;h+=1)i[h].m(n,null);c||(a=[w(s,"input",l[2]),w(s,"input",l[3])],c=!0)},p(f,[m]){if(m&1&&We(s.value)!==f[0]&&oe(s,f[0]),m&2){r=f[1];let h;for(h=0;h<r.length;h+=1){const u=fe(f,r,h);i[h]?i[h].p(u,m):(i[h]=ge(u),i[h].c(),i[h].m(n,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=r.length}},i:B,o:B,d(f){f&&_(t),f&&_(e),f&&_(s),f&&_(o),f&&_(n),Q(i,f),c=!1,X(a)}}}function ze(l){return l===1||l===12?!0:[3,5,7,9].indexOf(l%12)>-1}function De(l,t,e){const s=Y();let{items:o}=t,{steps:n}=t;function c(r){s("input",r.target.value)}function a(){n=We(this.value),e(0,n)}return l.$$set=r=>{"items"in r&&e(1,o=r.items),"steps"in r&&e(0,n=r.steps)},[n,o,c,a]}class Le extends j{constructor(t){super(),z(this,t,De,je,D,{items:1,steps:0})}}function me(l,t,e){const s=l.slice();return s[10]=t[e],s[11]=t,s[12]=e,s}function He(l,t,e){const s=l.slice();return s[13]=t[e],s}function de(l){let t,e=l[13]+"",s;return{c(){t=W("option"),s=k(e),this.h()},l(o){t=v(o,"OPTION",{});var n=N(t);s=O(n,e),n.forEach(_),this.h()},h(){t.__value=l[13],t.value=t.__value},m(o,n){d(o,t,n),b(t,s)},p:B,d(o){o&&_(t)}}}function pe(l){let t,e,s,o=l[1],n=[];for(let r=0;r<o.length;r+=1)n[r]=de(He(l,o,r));function c(){l[7].call(t,l[11],l[12])}function a(...r){return l[8](l[12],...r)}return{c(){t=W("select");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){t=v(r,"SELECT",{});var i=N(t);for(let f=0;f<n.length;f+=1)n[f].l(i);i.forEach(_),this.h()},h(){l[10]===void 0&&x(c)},m(r,i){d(r,t,i);for(let f=0;f<n.length;f+=1)n[f].m(t,null);K(t,l[10]),e||(s=[w(t,"change",c),w(t,"change",a)],e=!0)},p(r,i){if(l=r,i&2){o=l[1];let f;for(f=0;f<o.length;f+=1){const m=He(l,o,f);n[f]?n[f].p(m,i):(n[f]=de(m),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=o.length}i&3&&K(t,l[10])},d(r){r&&_(t),Q(n,r),e=!1,X(s)}}}function Re(l){let t,e,s,o,n,c,a,r,i,f,m,h,u,H,C,A,L,ne,J=l[0],P=[];for(let g=0;g<J.length;g+=1)P[g]=pe(me(l,J,g));return{c(){t=W("br"),e=E(),s=W("br"),o=k(`

Tunning:
`),n=W("button"),c=k("-"),a=E(),r=W("button"),i=k("+"),f=E();for(let g=0;g<P.length;g+=1)P[g].c();m=E(),h=W("button"),u=k("+"),H=E(),C=W("button"),A=k("-")},l(g){t=v(g,"BR",{}),e=T(g),s=v(g,"BR",{}),o=O(g,`

Tunning:
`),n=v(g,"BUTTON",{});var $=N(n);c=O($,"-"),$.forEach(_),a=T(g),r=v(g,"BUTTON",{});var S=N(r);i=O(S,"+"),S.forEach(_),f=T(g);for(let y=0;y<P.length;y+=1)P[y].l(g);m=T(g),h=v(g,"BUTTON",{});var Z=N(h);u=O(Z,"+"),Z.forEach(_),H=T(g),C=v(g,"BUTTON",{});var le=N(C);A=O(le,"-"),le.forEach(_)},m(g,$){d(g,t,$),d(g,e,$),d(g,s,$),d(g,o,$),d(g,n,$),b(n,c),d(g,a,$),d(g,r,$),b(r,i),d(g,f,$);for(let S=0;S<P.length;S+=1)P[S].m(g,$);d(g,m,$),d(g,h,$),b(h,u),d(g,H,$),d(g,C,$),b(C,A),L||(ne=[w(n,"click",l[4]),w(r,"click",l[3]),w(h,"click",l[5]),w(C,"click",l[6])],L=!0)},p(g,[$]){if($&7){J=g[0];let S;for(S=0;S<J.length;S+=1){const Z=me(g,J,S);P[S]?P[S].p(Z,$):(P[S]=pe(Z),P[S].c(),P[S].m(m.parentNode,m))}for(;S<P.length;S+=1)P[S].d(1);P.length=J.length}},i:B,o:B,d(g){g&&_(t),g&&_(e),g&&_(s),g&&_(o),g&&_(n),g&&_(a),g&&_(r),g&&_(f),Q(P,g),g&&_(m),g&&_(h),g&&_(H),g&&_(C),L=!1,X(ne)}}}function Ue(l,t,e){const s=Y();let{tunningNotes:o}=t;const n=I;function c(u,{value:H}){const C=[...o];C[u]=H,s("on-tune-change",C)}function a(){const u=[...o];u.unshift("C"),s("on-tune-change",u)}function r(){const u=[...o];u.shift(),s("on-tune-change",u)}function i(){const u=[...o];u.push("C"),s("on-tune-change",u)}function f(){const u=[...o];u.pop(),s("on-tune-change",u)}function m(u,H){u[H]=ee(this),e(0,o),e(1,n)}const h=(u,H)=>c(u,H.target);return l.$$set=u=>{"tunningNotes"in u&&e(0,o=u.tunningNotes)},[o,n,c,a,r,i,f,m,h]}class Me extends j{constructor(t){super(),z(this,t,Ue,Re,D,{tunningNotes:0})}}function qe(l){let t,e,s,o,n,c,a,r,i,f,m;return e=new Be({props:{root:l[0],scaleName:l[1]}}),e.$on("input",l[6]),o=new Fe({props:{scale:l[4]}}),o.$on("mode-selected",l[7]),c=new Me({props:{tunningNotes:l[3]}}),c.$on("on-tune-change",l[8]),f=new Le({props:{steps:l[2],items:l[5]}}),f.$on("input",l[9]),{c(){t=W("div"),R(e.$$.fragment),s=E(),R(o.$$.fragment),n=E(),R(c.$$.fragment),a=E(),r=W("br"),i=E(),R(f.$$.fragment)},l(h){t=v(h,"DIV",{});var u=N(t);U(e.$$.fragment,u),s=T(u),U(o.$$.fragment,u),n=T(u),U(c.$$.fragment,u),a=T(u),r=v(u,"BR",{}),i=T(u),U(f.$$.fragment,u),u.forEach(_)},m(h,u){d(h,t,u),M(e,t,null),b(t,s),M(o,t,null),b(t,n),M(c,t,null),b(t,a),b(t,r),b(t,i),M(f,t,null),m=!0},p(h,[u]){const H={};u&1&&(H.root=h[0]),u&2&&(H.scaleName=h[1]),e.$set(H);const C={};u&16&&(C.scale=h[4]),o.$set(C);const A={};u&8&&(A.tunningNotes=h[3]),c.$set(A);const L={};u&4&&(L.steps=h[2]),u&32&&(L.items=h[5]),f.$set(L)},i(h){m||(q(e.$$.fragment,h),q(o.$$.fragment,h),q(c.$$.fragment,h),q(f.$$.fragment,h),m=!0)},o(h){G(e.$$.fragment,h),G(o.$$.fragment,h),G(c.$$.fragment,h),G(f.$$.fragment,h),m=!1},d(h){h&&_(t),V(e),V(o),V(c),V(f)}}}function Ge(l,t,e){let s,o,n,c=I[4],a="major",r=22,i=["E","A","D","G","B","E"];function f(H){e(1,a=H.detail.scaleName),e(0,c=H.detail.root)}function m(H){e(4,o=[...H.detail])}function h(H){e(3,i=[...H.detail])}function u(H){e(2,r=H.detail)}return l.$$.update=()=>{l.$$.dirty&8&&e(10,s=i.map(H=>I.indexOf(H))),l.$$.dirty&2&&e(4,o=ve[a]),l.$$.dirty&1045&&e(5,n=$e(c,o,r,s).reverse())},[c,a,r,i,o,n,f,m,h,u,s]}class Ve extends j{constructor(t){super(),z(this,t,Ge,qe,D,{})}}function Je(l){let t,e,s;return e=new Ve({}),{c(){t=W("div"),R(e.$$.fragment)},l(o){t=v(o,"DIV",{});var n=N(t);U(e.$$.fragment,n),n.forEach(_)},m(o,n){d(o,t,n),M(e,t,null),s=!0},p:B,i(o){s||(q(e.$$.fragment,o),s=!0)},o(o){G(e.$$.fragment,o),s=!1},d(o){o&&_(t),V(e)}}}class Qe extends j{constructor(t){super(),z(this,t,null,Je,D,{})}}export{Qe as component};
